angular.module("Ultimirror").controller("DateTimeCtrl",["$scope","$timeout",function(e,t){function o(){moment.tz.add(["Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"]);var e=new Date,t=[{jsclass:"js-london",jstime:moment.tz(e,"Eire")}];return t}function n(){var e=o();for(i=0;i<e.length;++i)for(var t=e[i].jstime.format("h"),n=e[i].jstime.format("mm"),r=e[i].jstime.format("ss"),a=[{hand:"hours",degree:30*t+n/2},{hand:"minutes",degree:6*n},{hand:"seconds",degree:6*r}],l=0;l<a.length;l++)for(var s=document.querySelectorAll(".active ."+e[i].jsclass+" ."+a[l].hand),g=0;g<s.length;g++)s[g].style.webkitTransform="rotateZ("+a[l].degree+"deg)",s[g].style.transform="rotateZ("+a[l].degree+"deg)","minutes"===a[l].hand&&s[g].parentNode.setAttribute("data-second-angle",a[l+1].degree);for(var s=document.querySelectorAll(".clock"),d=0;d<s.length;d++)s[d].className=s[d].className+" show"}function r(){for(var e=new Date,t=e.getSeconds(),o=e.getMinutes(),n=e.getHours(),r=[{hand:"hours",angle:30*n+o/2},{hand:"minutes",angle:6*o},{hand:"seconds",angle:6*t}],a=0;a<r.length;a++)for(var l=document.querySelectorAll(".local ."+r[a].hand),s=0;s<l.length;s++)l[s].style.transform="rotateZ("+r[a].angle+"deg)","minutes"===r[a].hand&&l[s].parentNode.setAttribute("data-second-angle",r[a+1].angle)}function a(){var e=document.querySelectorAll(".bounce .seconds-container");setInterval(function(){for(var t=0;t<e.length;t++)void 0===e[t].angle?e[t].angle=6:e[t].angle+=6,e[t].style.webkitTransform="rotateZ("+e[t].angle+"deg)",e[t].style.transform="rotateZ("+e[t].angle+"deg)"},1e3);for(var t=0;t<e.length;t++){var o=Math.floor(91*Math.random())+10;e[t].style.transitionDelay="0.0"+o+"s"}}function l(){var e=document.querySelectorAll(".minutes-container");console.log(e);var t=e[e.length-1].getAttribute("data-second-angle");if(console.log(t),t>0){var o=1e3*((360-t)/6+.1);console.log(o),setTimeout(function(){s(e)},o)}}function s(e){for(var t=0;t<e.length;t++)e[t].style.webkitTransform="rotateZ(6deg)",e[t].style.transform="rotateZ(6deg)";setInterval(function(){for(var t=0;t<e.length;t++)void 0===e[t].angle?e[t].angle=12:e[t].angle+=6,e[t].style.webkitTransform="rotateZ("+e[t].angle+"deg)",e[t].style.transform="rotateZ("+e[t].angle+"deg)"},6e4)}console.log(e.moduleKey),console.log(e.ultimirror.moduleInstances[e.moduleKey]),console.log(e.ultimirror.moduleInstances[e.moduleKey].config),console.log(e.ultimirror.moduleInstances[e.moduleKey].config.theme),"analog"===e.ultimirror.moduleInstances[e.moduleKey].config.theme&&t(function(){n(),r(),a(),l()},1e3)}]);