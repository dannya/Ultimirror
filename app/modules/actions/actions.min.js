const exec=require("child_process").exec,UltimirrorModule=require(ultimirror.path(["js","ultimirror","module.js"])),Actions=UltimirrorModule.extend("Actions",{moduleType:"actions",moduleName:"Actions",update:!1,buttonAction:function(e){var o=this;"update"===e?exec("git pull",function(e,r){var t={};t=e&&0!==e.code?{error:!0,message:"Unable to update"}:-1!==r.indexOf("Already up-to-date")?{error:!0,message:"Already on the latest version"}:{error:!1,message:""},ultimirror.fn.module.updateData({moduleType:o.moduleType,moduleId:o.moduleId},t)}):"restart"===e?exec("sudo shutdown -r -k",function(e){var r={};r=0===e.code?{error:!1,message:""}:{error:!0,message:"Unable to restart"},ultimirror.fn.module.updateData({moduleType:o.moduleType,moduleId:o.moduleId},r)}):"shutdown"===e&&exec("sudo shutdown -k",function(e){var r={};r=0===e.code?{error:!1,message:""}:{error:!0,message:"Unable to shutdown"},ultimirror.fn.module.updateData({moduleType:o.moduleType,moduleId:o.moduleId},r)})}});module.exports=Actions;